@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* EmotiBuild Design System Colors */
    --primary: 220 89.8% 52.4%;
    --accent: 150 65% 5%;
    --bg: 220 20% 10%;
    --surface: 220 20% 14%;
    --text-primary: 220 10% 95%;
    --text-secondary: 220 10% 80%;
    --border: 220 20% 20%;
    --input: 220 20% 18%;
    --ring: 220 89.8% 52.4%;
    
    /* Radius */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 16px;
    
    /* Spacing */
    --spacing-sm: 8px;
    --spacing-md: 12px;
    --spacing-lg: 16px;
    --spacing-xl: 24px;
    
    /* Shadows */
    --shadow-card: 0 4px 12px hsla(0, 0%, 0%, 0.1);
    
    /* Animation durations */
    --duration-fast: 150ms;
    --duration-base: 300ms;
  }

  * {
    @apply border-border;
  }
  
  html {
    @apply h-full;
  }
  
  body {
    @apply h-full bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-700 text-text-primary font-sans antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
    background-attachment: fixed;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--bg));
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--text-secondary));
  }

  /* Focus styles */
  :focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
  }
}

@layer components {
  /* Glass morphism card */
  .glass-card {
    @apply bg-white bg-opacity-10 backdrop-blur-md border border-white border-opacity-20 rounded-md shadow-card;
  }
  
  /* Enhanced glass card with better contrast */
  .glass-card-enhanced {
    @apply bg-surface bg-opacity-80 backdrop-blur-md border border-border rounded-md shadow-card;
  }
  
  /* Primary button */
  .btn-primary {
    @apply bg-gradient-to-r from-primary to-purple-500 text-white px-6 py-3 rounded-md font-medium hover:from-primary/90 hover:to-purple-500/90 transition-all duration-200 shadow-lg hover:shadow-xl focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-bg disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  /* Secondary button */
  .btn-secondary {
    @apply glass-card-enhanced text-text-primary px-4 py-2 rounded-md font-medium hover:bg-opacity-90 transition-all duration-200 focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-bg;
  }
  
  /* Tertiary button */
  .btn-tertiary {
    @apply text-text-secondary hover:text-text-primary px-3 py-2 rounded-md font-medium transition-colors duration-200 focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-bg;
  }
  
  /* Icon button */
  .btn-icon {
    @apply p-2 rounded-md text-text-secondary hover:text-text-primary hover:bg-surface transition-all duration-200 focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-bg;
  }
  
  /* Mood emoji styling */
  .mood-emoji {
    @apply text-4xl cursor-pointer transition-all duration-200 hover:scale-110 active:scale-95 focus:scale-110 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-bg rounded-md;
  }
  
  /* Coping mechanism card */
  .coping-card {
    @apply glass-card-enhanced p-4 hover:bg-opacity-90 transition-all duration-200 cursor-pointer focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-bg;
  }
  
  /* Metric card */
  .metric-card {
    @apply glass-card-enhanced p-4 text-center;
  }
  
  /* Input field */
  .input-field {
    @apply w-full px-3 py-2 bg-input border border-border rounded-md text-text-primary placeholder-text-secondary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200;
  }
  
  /* Textarea */
  .textarea-field {
    @apply w-full px-3 py-2 bg-input border border-border rounded-md text-text-primary placeholder-text-secondary focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200 resize-none;
  }
  
  /* Navigation item */
  .nav-item {
    @apply flex flex-col items-center gap-1 px-3 py-2 rounded-md text-text-secondary hover:text-text-primary transition-colors duration-200 focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-bg;
  }
  
  .nav-item.active {
    @apply text-primary bg-primary bg-opacity-10;
  }
  
  /* Progress bar */
  .progress-bar {
    @apply w-full bg-border rounded-full h-2 overflow-hidden;
  }
  
  .progress-fill {
    @apply h-full bg-gradient-to-r from-primary to-purple-500 transition-all duration-500 ease-out;
  }
  
  /* Slider */
  .slider-track {
    @apply w-full h-2 bg-border rounded-full relative;
  }
  
  .slider-thumb {
    @apply w-5 h-5 bg-primary rounded-full shadow-lg cursor-pointer transition-all duration-200 hover:scale-110 focus:scale-110 focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-bg;
  }
  
  /* Tag/Badge */
  .tag {
    @apply inline-flex items-center px-2 py-1 rounded-sm text-xs font-medium bg-surface text-text-secondary border border-border;
  }
  
  .tag-primary {
    @apply bg-primary bg-opacity-20 text-primary border-primary border-opacity-30;
  }
  
  /* Loading spinner */
  .spinner {
    @apply animate-spin rounded-full border-2 border-border border-t-primary;
  }
  
  /* Divider */
  .divider {
    @apply border-t border-border;
  }
  
  /* Container */
  .container-app {
    @apply max-w-md w-full mx-auto min-h-screen bg-black bg-opacity-20 backdrop-blur-sm;
  }
}

@layer utilities {
  /* Text gradients */
  .text-gradient {
    @apply bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent;
  }
  
  .text-gradient-accent {
    @apply bg-gradient-to-r from-accent-500 to-green-400 bg-clip-text text-transparent;
  }
  
  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }
  
  .animate-pulse-slow {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  /* Backdrop blur utilities */
  .backdrop-blur-glass {
    backdrop-filter: blur(12px);
  }
  
  /* Safe area utilities for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  /* Truncate text utilities */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Keyframes for custom animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Print styles */
@media print {
  body {
    background: white !important;
    color: black !important;
  }
  
  .glass-card,
  .glass-card-enhanced {
    background: white !important;
    border: 1px solid #ccc !important;
  }
}
